---
description:
globs:
alwaysApply: false
---
# 主要功能特性

脚本支持多种高级特性，使游戏技能释放更加智能和高效。

## 技能类型

- **Buff类技能**：在buff持续时间结束后自动重新释放
- **优先级技能**：冷却结束后尽快释放
- **触发类技能**：当技能图标发生变化（激活状态）时优先释放
- **治疗技能**：当血量低于设定阈值时紧急释放
- **打断技能**：用于打断Boss技能施法

## 位置缓存系统

[main.js](mdc:main.js) 中的 `positionCache` 对象实现了图标位置缓存：
- 缓存技能图标和血条位置，减少图像识别次数
- 按时间自动失效，确保位置信息准确性
- 大幅提升脚本性能

## Boss施法检测

[skill_engine.js](mdc:skill_engine.js) 中的 `detectBossCasting` 和 `tryUseInterruptSkill` 函数：
- 自动检测Boss技能施法
- 判断是否需要打断
- 选择合适的打断技能
- 在合适的时机执行打断
